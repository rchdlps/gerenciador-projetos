---
import Layout from "../layouts/DashboardLayout.astro";
import { ProfileForm } from "@/components/profile/profile-form";
import { getPageContext } from "@/lib/queries/page-context";

const ctx = await getPageContext(Astro.request.headers);
if (!ctx) return Astro.redirect("/login");
---

<Layout
    title="Meu Perfil"
    session={ctx.session}
    orgSessionData={ctx.orgSessionData}
>
    <div class="py-6">
        <ProfileForm client:load />
    </div>
</Layout>
