---
import DashboardLayout from "@/layouts/DashboardLayout.astro";
import { NotificationList } from "@/components/notifications/NotificationList";
import { getPageContext } from "@/lib/queries/page-context";

const ctx = await getPageContext(Astro.request.headers);
if (!ctx) return Astro.redirect("/login");
---

<DashboardLayout
    title="Minhas Notificações"
    session={ctx.session}
    orgSessionData={ctx.orgSessionData}
>
  <div class="container mx-auto py-6">
    <NotificationList client:load />
  </div>
</DashboardLayout>
