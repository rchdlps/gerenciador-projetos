---
import DashboardLayout from "@/layouts/DashboardLayout.astro";
import { DashboardWrapper } from "@/components/dashboard/wrapper";
import { auth } from "@/lib/auth";

const session = await auth.api.getSession({ headers: Astro.request.headers });

if (!session) {
    return Astro.redirect("/login");
}
---

<DashboardLayout title="Dashboard - Gerenciador de Projetos">
    <DashboardWrapper client:load />
</DashboardLayout>
